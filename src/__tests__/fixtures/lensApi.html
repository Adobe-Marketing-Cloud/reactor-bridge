<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Iframe</title>
    <script src="promise.js"></script>
    <script src="extensionbridge.min.js"></script>
    <script>
      debugger;
      extensionBridge.register({
        init: function(info) { },
        validate: function() { },
        getSettings: function() {
          // We abuse getSettings() for our testing purposes.
          return Promise.all([
            new Promise(function(resolve) {
              extensionBridge.openCodeEditor(resolve, {
                testOption: 'code editor'
              });
            }),
            new Promise(function(resolve) {
              extensionBridge.openRegexTester(resolve, {
                testOption: 'regex tester'
              });
            }),
            new Promise(function(resolve) {
              extensionBridge.openDataElementSelector(resolve, {
                testOption: 'data element selector'
              });
            }),
            new Promise(function(resolve) {
              extensionBridge.openCssSelector(resolve, {
                testOption: 'css selector'
              });
            })
          ]).then(function(results) {
            return {
              results: results
            };
          });
        }
      });
    </script>
  </head>
  <body>
    Iframe
  </body>
</html>
